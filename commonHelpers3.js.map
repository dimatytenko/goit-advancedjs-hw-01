{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nimport refs from './refs';\nimport constants from './constants';\n\nconst savedMessage = localStorage.getItem(constants.FEEDBACK_FORM_KEY);\n\nif (savedMessage) {\n  const parsedMessage = JSON.parse(savedMessage);\n\n  refs.formRef.elements.email.value = parsedMessage.email;\n  refs.formRef.elements.message.value = parsedMessage.message;\n}\n\nrefs.formRef.addEventListener('submit', onFormSubmit);\nrefs.formRef.addEventListener('input', throttle(onSaveInputsValue, 500));\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const {\n    elements: { email, message },\n  } = form;\n\n  if (email.value === '' || message.value === '') {\n    alert('All fields must be filled!');\n  } else {\n    const formData = {\n      email: email.value.trim(),\n      password: message.value.trim(),\n    };\n\n    console.log(formData);\n\n    form.reset();\n    localStorage.removeItem(constants.FEEDBACK_FORM_KEY);\n  }\n}\n\nfunction onSaveInputsValue(event) {\n  const form = event.currentTarget;\n  const {\n    elements: { email, message },\n  } = form;\n\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  localStorage.setItem(constants.FEEDBACK_FORM_KEY, JSON.stringify(formData));\n}\n"],"names":["savedMessage","constants","parsedMessage","refs","onFormSubmit","throttle","onSaveInputsValue","event","form","email","message","formData"],"mappings":"8IAKA,MAAMA,EAAe,aAAa,QAAQC,EAAU,iBAAiB,EAErE,GAAID,EAAc,CAChB,MAAME,EAAgB,KAAK,MAAMF,CAAY,EAE7CG,EAAK,QAAQ,SAAS,MAAM,MAAQD,EAAc,MAClDC,EAAK,QAAQ,SAAS,QAAQ,MAAQD,EAAc,OACtD,CAEAC,EAAK,QAAQ,iBAAiB,SAAUC,CAAY,EACpDD,EAAK,QAAQ,iBAAiB,QAASE,EAASC,EAAmB,GAAG,CAAC,EAEvE,SAASF,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACb,CACJ,SAAU,CAAE,MAAAE,EAAO,QAAAC,CAAS,CAC7B,EAAGF,EAEJ,GAAIC,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,MAAM,4BAA4B,MAC7B,CACL,MAAMC,EAAW,CACf,MAAOF,EAAM,MAAM,KAAM,EACzB,SAAUC,EAAQ,MAAM,KAAM,CACpC,EAEI,QAAQ,IAAIC,CAAQ,EAEpBH,EAAK,MAAK,EACV,aAAa,WAAWP,EAAU,iBAAiB,CACpD,CACH,CAEA,SAASK,EAAkBC,EAAO,CAChC,MAAMC,EAAOD,EAAM,cACb,CACJ,SAAU,CAAE,MAAAE,EAAO,QAAAC,CAAS,CAC7B,EAAGF,EAEEG,EAAW,CACf,MAAOF,EAAM,MACb,QAASC,EAAQ,KACrB,EAEE,aAAa,QAAQT,EAAU,kBAAmB,KAAK,UAAUU,CAAQ,CAAC,CAC5E"}